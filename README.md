# nyankoPDF_chatbot20250405
【note公開】VisualStudioコードで使えるにゃんと一緒にPDF要約＆質問機能チャットボット20250405
このプロジェクトは、Visual Studio Code (VS Code) を使って PDF 要約と質問応答ができる「にゃんこチャットボット」のセットアップ方法を説明しています。具体的には、PDFの内容を読み取り、ユーザーからの質問に応じた回答を生成するシステムです。以下の手順に従って環境構築と実行を行います。

### 環境構築の手順

#### 1. 仮想環境の作成
まず、Python の仮想環境を作成します。ターミナルを開き、以下のコマンドを実行します。

```bash
python -m venv ncbi_env
```

#### 2. 仮想環境を有効化
作成した仮想環境を有効にします。PowerShellの場合は次のコマンドを使用します。

```bash
.\ncbi_env\Scripts\Activate.ps1
```

コマンドプロンプトの場合は、次のコマンドで有効化できます。

```bash
.\ncbi_env\Scripts\activate.bat
```

#### 3. 必要なパッケージのインストール
仮想環境を有効化した状態で、プロジェクトディレクトリに移動し、以下のコマンドで必要なパッケージをインストールします。

```bash
pip install -r requirements.txt
```

#### 4. VS Code でプロジェクトを開く
VS Code を開き、プロジェクトのディレクトリを開きます。VS Code 内のターミナルを開き、仮想環境を再度有効化します。

#### 5. PDF 要約 QA システムを起動
次に、`pdf_qa.py` スクリプトを実行します。以下のコマンドで実行できます。

```bash
py pdf_qa.py --pdf "C:\path\to\your\file.pdf"
```

これで指定した PDF ファイルに基づいて Q&A システムが動作するはずです。

### トラブルシューティング

- **エラー発生時の対応**: 動作確認でエラーが発生した場合、そのエラーメッセージをもとに問題を特定します。例えば、`VectorStoreIndex` に関するエラーが発生した場合は、インデックスを再作成する必要があるかもしれません。
- **API キーの確認**: OpenAI API を使用する場合、API キーが正しく設定されているか確認します。

### 実行後の確認
ターミナルに以下のようなメッセージが表示されれば、システムは正常に動作しています。

```
APIキー確認したにゃん！ちゃんと設定されてるにゃ
最新のllama-indexを使うにゃん...
PDFファイル 'C:\path\to\your\file.pdf' を読み込み中...にゃん
PDFの読み込み完了したにゃ！13 ドキュメントに分割したにゃ
```

この後、ユーザーはチャットボットに質問をして、PDFの内容に基づいた回答を得ることができます。

### カスタマイズ方法
- **モデルの変更**: 使用する AI モデルを変更するには、`--model` オプションを使用します。
- **温度パラメータの調整**: 創造性を高めるために、`--temperature` パラメータを調整できます。
- **最大トークン数の制限**: `--max_tokens` で生成される回答の長さを制限できます。

これらを利用して、プロジェクトを自分の目的に合わせてカスタマイズできます。

もしエラーや問題が発生した場合は、その詳細をもとに対応方法を検討しますので、気軽に相談してください。
